# Role
你是一名精通 HTML5 Canvas、CSS3 高级动画及 Web AR 技术的资深前端工程师。你需要编写一个单文件（Single-file）的 Web 应用：一个具有 AR 面部追踪功能的拟物化立拍得（Polaroid）相机。

# Tech Stack
- **Core**: 原生 HTML / CSS / JavaScript (无框架)。
- **AR Library**: MediaPipe Face Mesh (使用 CDN，锁定版本：face_mesh@0.4, camera_utils@0.3, control_utils@0.6 以确保稳定性)。
- **Utility**: html2canvas (用于截图)。
- **Assets**: 不使用外部图片文件，所有图标/纹理使用 CSS 绘制、SVG Data URI 或原生 Emoji。

# Visual Style (Skeuomorphism Pro)
UI 风格必须是高精度的拟物化设计：
1. **背景**: 浅灰色背景 (`#dcdcdc`) 搭配 CSS 绘制的波点图案。
2. **相机机身**: 米色磨砂塑料质感 (`#fdf6e3`)，必须使用 SVG Data URI 添加噪点（Noise）纹理，并使用多层 `box-shadow` 营造真实的厚度和立体感。
3. **镜头组件**: 金属拉丝底座，粉色装饰圈，中间是深邃的玻璃镜头（带多层渐变反光和高光）。
4. **快门按钮**: 位于机身右侧，粉色系，具有“呼吸灯”光效动画，点击时有明显的下压反馈。
5. **闪光灯**: 位于左上角，需模拟菲涅尔透镜纹理。

# Functional Requirements

## 1. Camera & AR (Core Logic)
- **启动**: 页面加载时显示 Loading 遮罩，初始化 MediaPipe Face Mesh。
- **镜像逻辑**: 
  - 视频流和 Canvas 必须是**水平翻转（Mirror）**的，让用户感觉像在照镜子。
  - **重要**: 绘制 AR 贴纸时，坐标计算必须适配翻转后的 Canvas，确保贴纸准确跟随面部。
- **滤镜系统**:
  - 左侧提供三个按钮：🚫 (无), 🐶 (狗), 🐱 (猫)。
  - 选中后，使用 **原生 Emoji 字符** (如 "🐶") 直接绘制在 Canvas 上的人脸鼻尖位置。
  - 算法：根据左右脸颊宽度动态计算 Emoji 的缩放大小和旋转角度。

## 2. Photo Capturing & Animation
- **快门交互**: 点击快门 -> 镜头内部闪白光 (Local Flash) -> 截取 Canvas 当前帧。
- **照片生成**:
  - 截取的高清图片生成为一张立拍得 DOM 元素。
  - 包含：照片区域、底部手写字体文案（默认 "May I Meet You"）、右下角日期。
  - **照片动画**: 照片必须从相机顶部的“出纸口”狭缝中，缓慢、匀速地向上滑出（动画时长约 3秒）。
  - **层级关系**: 动画过程中，照片层级必须位于“相机前盖”之下，但位于“相机底座”之上，营造从机器内部吐出的错觉。

## 3. Interaction & Download
- **桌面交互**: 照片完全吐出后落入“桌面区域”，呈随机角度摆放。用户可以随意拖拽照片。
- **文案编辑**: 顶部提供「✎ 修改文本」按钮，点击弹出拟物化 Modal，修改后续拍照生成的底部文案。
- **全局保存**: 顶部提供「💾 保存桌面」按钮，使用 `html2canvas` 将整个桌面（含背景、相机、所有照片）保存为图片。
- **单张下载 (Smart Save)**:
  - 每张照片悬停时，右上角显示下载小图标。
  - **关键逻辑**: 点击下载单张时，程序必须暂时移除照片的 CSS 旋转角度 (`transform: rotate(0)`)，截图后再恢复。确保下载的单张照片是竖直端正的，且背景透明，只包含照片轮廓。

# UI Layout & Language
- **语言**: 界面文案全部使用中文（如“正在启动...”、“下载这张照片”）。
- **布局**: 
  - 顶部右侧：功能按钮组（Flex 布局避免重叠）。
  - 左侧垂直居中：滤镜切换栏。
  - 屏幕中央：相机主体。
  - 全屏：桌面区域。

# Output
请直接输出完整的、可运行的 `index.html` 代码。代码结构清晰，包含所有 CSS 样式和 JS 逻辑。